---
common_stable_os:
  - Debian 9
  - Debian 10
  - Ubuntu 16
  - Ubuntu 18
  - CentOS 7
  - CentOS 8
  - Fedora 30
  - Fedora 31
  - SLES 11
  - SLES 12
  - openSUSE Leap 15
  # - openSUSE Leap 42

# Common Management Selections
common_crontabs_configure: false
common_disks_configure: false
common_dns_configure: false
common_groups_configure: false
common_mail_configure: false
common_zsh_configure: false
common_scripting_configure: false
common_software_configure: false
common_users_configure: false
common_timezone_configure: false
common_sudo_configure: false
common_vim_configure: false

# Users
## Users can be defined on several levels and will be concatenated
common_global_users_present: []
  # - name: johndoe
  #   password: []
  #   update_password: always
  #   keys: []
  #     - foobar
  #   shell: /bin/bash
  #   user_groups: []
  #   append: yes
  #   system: no
  #   state: present
  #   remove: no
common_os_users_present: []
common_system_users_present: []
common_stage_users_present: []
common_role_users_present: []

# Sudo
common_sudo_sudoers_files: []
## Users can be defined on several levels and will be concatenated
common_sudo_passwordless_users_global: []
  # - johndoe
common_sudo_passwordless_users_os: []
common_sudo_passwordless_users_system: []
common_sudo_passwordless_users_stage: []
common_sudo_passwordless_users_role: []
common_sudo_defaults:
  - line: "# Defaults targetpw # ask for the password of the target user i.e. root"
    regex: '^Defaults\s*targetpw.*'
    state: 'present'
  - line: "# ALL ALL=(ALL) ALL # WARNING! Only use this together with 'Defaults targetpw'!"
    regex: '^ALL\s*ALL=\(ALL\)\s*ALL.*'
    state: 'present'
  - line: '%{{ common_admin_group }} ALL=({% if ansible_os_family == "Debian" %}ALL:ALL{% else %}ALL{% endif %}) ALL'
    regex: '(# |^)\%{{ common_admin_group }}\s*ALL=\({% if ansible_os_family == "Debian" %}ALL:ALL{% else %}ALL{% endif %}\)\s*ALL.*'
    state: 'present'
  - line: "#includedir /etc/sudoers.d"
    regex: '^#includedir\s*/etc/sudoers.d.*'
    state: 'present'

# Optional Apps
common_optional_apps_install: false

# EPEL for RedHat
common_epel_enabled: false

# DNS
common_dns_search: []
common_dns_servers:
  - 1.1.1.1
  - 1.0.0.1
common_dns_options: []
  # - "timeout:3"
  # - "attempts:2"
  # - "rotate"

# Timezone
common_timezone: "Europe/Berlin"

# Mail Aliases
common_etc_aliases:
  - name: "Redirect root mails."
    line: 'root: root'
    regexp: '^root\:.*'
    insertbefore: EOF
    setype: etc_aliases_t
    state: present
    backup: 'true'

# Scripting
scripting_path: /opt/control/scripts
config_path: /opt/control/config

# Shopt options
shopt_options:
  - shopt -s cdspell
  - shopt -s nocaseglob

# Oh my ZSH
common_zsh_users: root
common_zsh_theme: clean
common_zsh_path: /opt/oh-my-zsh
common_zsh_plugins:
  - git
  - rsync
  - wd
